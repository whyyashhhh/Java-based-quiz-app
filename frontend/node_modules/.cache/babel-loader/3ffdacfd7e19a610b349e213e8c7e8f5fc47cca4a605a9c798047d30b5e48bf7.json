{"ast":null,"code":"import _objectSpread from\"C:/Users/tsuya/OneDrive/Desktop/java mini project/quiz-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect,useState}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export default function Quiz(){const{category}=useParams();const navigate=useNavigate();const[questions,setQuestions]=useState([]);const[answers,setAnswers]=useState({});useEffect(()=>{fetch(\"/api/quiz/\".concat(category)).then(res=>res.json()).then(setQuestions).catch(err=>console.error(err));},[category]);const submitQuiz=async()=>{const payload=Object.entries(answers).map(_ref=>{let[question,answer]=_ref;return{question,answer};});const res=await fetch(\"/api/quiz/submit\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(payload)});const result=await res.json();navigate(\"/result\",{state:result});};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-8\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl mb-4\",children:[\"Category: \",category]}),questions.map((q,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 bg-white p-4 rounded-lg shadow\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold\",children:[i+1,\". \",q.question]}),q.options.map(opt=>/*#__PURE__*/_jsxs(\"label\",{className:\"block mt-1\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:q.question,value:opt,onChange:()=>setAnswers(_objectSpread(_objectSpread({},answers),{},{[q.question]:opt}))}),\" \",opt]},opt))]},i)),/*#__PURE__*/_jsx(\"button\",{onClick:submitQuiz,className:\"mt-4 px-6 py-3 bg-green-500 text-white rounded-lg\",children:\"Submit Quiz\"})]});}","map":{"version":3,"names":["useEffect","useState","useParams","useNavigate","jsxs","_jsxs","jsx","_jsx","Quiz","category","navigate","questions","setQuestions","answers","setAnswers","fetch","concat","then","res","json","catch","err","console","error","submitQuiz","payload","Object","entries","map","_ref","question","answer","method","headers","body","JSON","stringify","result","state","className","children","q","i","options","opt","type","name","value","onChange","_objectSpread","onClick"],"sources":["C:/Users/tsuya/OneDrive/Desktop/java mini project/quiz-app/frontend/src/pages/Quiz.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\n\r\nexport default function Quiz() {\r\n  const { category } = useParams();\r\n  const navigate = useNavigate();\r\n  const [questions, setQuestions] = useState([]);\r\n  const [answers, setAnswers] = useState({});\r\n\r\n  useEffect(() => {\r\n    fetch(`/api/quiz/${category}`)\r\n      .then((res) => res.json())\r\n      .then(setQuestions)\r\n      .catch((err) => console.error(err));\r\n  }, [category]);\r\n\r\n  const submitQuiz = async () => {\r\n    const payload = Object.entries(answers).map(([question, answer]) => ({ question, answer }));\r\n    const res = await fetch(\"/api/quiz/submit\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(payload),\r\n    });\r\n    const result = await res.json();\r\n    navigate(\"/result\", { state: result });\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n      <h2 className=\"text-2xl mb-4\">Category: {category}</h2>\r\n      {questions.map((q, i) => (\r\n        <div key={i} className=\"mb-6 bg-white p-4 rounded-lg shadow\">\r\n          <p className=\"font-semibold\">{i + 1}. {q.question}</p>\r\n          {q.options.map((opt) => (\r\n            <label key={opt} className=\"block mt-1\">\r\n              <input\r\n                type=\"radio\"\r\n                name={q.question}\r\n                value={opt}\r\n                onChange={() => setAnswers({ ...answers, [q.question]: opt })}\r\n              /> {opt}\r\n            </label>\r\n          ))}\r\n        </div>\r\n      ))}\r\n      <button onClick={submitQuiz} className=\"mt-4 px-6 py-3 bg-green-500 text-white rounded-lg\">\r\n        Submit Quiz\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"wJAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAE1D,cAAe,SAAS,CAAAC,IAAIA,CAAA,CAAG,CAC7B,KAAM,CAAEC,QAAS,CAAC,CAAGP,SAAS,CAAC,CAAC,CAChC,KAAM,CAAAQ,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACQ,SAAS,CAAEC,YAAY,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,CAAC,CAAC,CAAC,CAE1CD,SAAS,CAAC,IAAM,CACde,KAAK,cAAAC,MAAA,CAAcP,QAAQ,CAAE,CAAC,CAC3BQ,IAAI,CAAEC,GAAG,EAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAACL,YAAY,CAAC,CAClBQ,KAAK,CAAEC,GAAG,EAAKC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAAC,CACvC,CAAC,CAAE,CAACZ,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAe,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,KAAM,CAAAC,OAAO,CAAGC,MAAM,CAACC,OAAO,CAACd,OAAO,CAAC,CAACe,GAAG,CAACC,IAAA,MAAC,CAACC,QAAQ,CAAEC,MAAM,CAAC,CAAAF,IAAA,OAAM,CAAEC,QAAQ,CAAEC,MAAO,CAAC,EAAC,CAAC,CAC3F,KAAM,CAAAb,GAAG,CAAG,KAAM,CAAAH,KAAK,CAAC,kBAAkB,CAAE,CAC1CiB,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACX,OAAO,CAC9B,CAAC,CAAC,CACF,KAAM,CAAAY,MAAM,CAAG,KAAM,CAAAnB,GAAG,CAACC,IAAI,CAAC,CAAC,CAC/BT,QAAQ,CAAC,SAAS,CAAE,CAAE4B,KAAK,CAAED,MAAO,CAAC,CAAC,CACxC,CAAC,CAED,mBACEhC,KAAA,QAAKkC,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBnC,KAAA,OAAIkC,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAC,YAAU,CAAC/B,QAAQ,EAAK,CAAC,CACtDE,SAAS,CAACiB,GAAG,CAAC,CAACa,CAAC,CAAEC,CAAC,gBAClBrC,KAAA,QAAakC,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eAC1DnC,KAAA,MAAGkC,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAEE,CAAC,CAAG,CAAC,CAAC,IAAE,CAACD,CAAC,CAACX,QAAQ,EAAI,CAAC,CACrDW,CAAC,CAACE,OAAO,CAACf,GAAG,CAAEgB,GAAG,eACjBvC,KAAA,UAAiBkC,SAAS,CAAC,YAAY,CAAAC,QAAA,eACrCjC,IAAA,UACEsC,IAAI,CAAC,OAAO,CACZC,IAAI,CAAEL,CAAC,CAACX,QAAS,CACjBiB,KAAK,CAAEH,GAAI,CACXI,QAAQ,CAAEA,CAAA,GAAMlC,UAAU,CAAAmC,aAAA,CAAAA,aAAA,IAAMpC,OAAO,MAAE,CAAC4B,CAAC,CAACX,QAAQ,EAAGc,GAAG,EAAE,CAAE,CAC/D,CAAC,IAAC,CAACA,GAAG,GANGA,GAOL,CACR,CAAC,GAXMF,CAYL,CACN,CAAC,cACFnC,IAAA,WAAQ2C,OAAO,CAAE1B,UAAW,CAACe,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAAC,aAE3F,CAAQ,CAAC,EACN,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}